<div class="bg-[#31363f] rounded-lg shadow-md p-6 mb-7 border border-[#ffd369]">
  <!-- Шапка карточки: аватар и имя автора -->
  <div class="flex items-center mb-4 flex-row justify-between">
  <div class="flex flex-row">
  <%= link_to profile_path(@post.user) do %>
   <div class="w-10 h-10 bg-[#ffd369] rounded-full flex items-center justify-center mr-4">
            <span class="text-[#222831] text-xl font-bold">
              <%= @post.user.email&.first&.upcase %>
            </span>
          </div>
    <% end %>
    <div>
    <%= link_to profile_path(@post.user) do %>
      <h3 class="font-semibold text-[#ffd369]"><%= @post.user.email %></h3>
    <% end %>
    <p class="text-sm text-gray-500"><%= @post.created_at.strftime("%d.%m.%Y %H:%M") %></p>
    </div>
    </div>

    <% if @current_user && @post.user != @current_user %>
      <%= helpers.button_to "Написать",
            helpers.conversations_path(recipient_id: @post.user.id),
            method: :post,
            class: "bg-[#ffd369] text-[#222831] px-3 py-1 rounded text-sm hover:bg-[#ffd369]/50 cursor-pointer" %>
    <% end %>
    <% if @current_user && @post.user === @current_user %>
      <%= helpers.button_to(
        helpers.post_path(@post),
        method: :delete,
        class: "w-10 h-10"
      ) do %>
        <%= helpers.heroicon(
              "trash",
              variant: :outline,
              options: { class: "w-6 h-6 text-red-500 hover:text-red-700 cursor-pointer" }
            ) %>
      <% end %>
    <% end %>
  </div>

  <!-- Контент поста -->
  <div class="mb-4 border-b border-[#ffd369] pb-4">
    <p class="text-white"><%= @post.content %></p>
  </div>


  <div class="flex items-center gap-4">
    <!-- Лайки -->
   <%= helpers.turbo_frame_tag "post_#{@post.id}_likes" do %>
  <%= helpers.button_to(
        post_like_path,
        method: post_like_method,
        class: "#{like_button_class} inline-flex items-center gap-2 hover:text-[#ffd369] transition-colors ease-in-out duration-200",
        data: { turbo_stream: true }
      ) do %>
    <%= helpers.heroicon(
          "heart",
          variant: user_liked? ? :solid : :outline,
          options: { class: "w-6 h-6 " }
        ) %>
    <span><%= @post.likes.count %></span>
  <% end %>
<% end %>

    <%= helpers.link_to helpers.post_path(@post), class: "text-gray-500 inline-flex items-center gap-2 hover:text-[#ffd369] transition-colors ease-in-out duration-200" do %>
      <%= helpers.heroicon(
            "chat-bubble-left-right",
            variant: :outline,
            options: { class: "w-6 h-6 " }
          ) %>
      <span><%= @post.comments.count %></span>
    <% end %>
  </div>
</div>
